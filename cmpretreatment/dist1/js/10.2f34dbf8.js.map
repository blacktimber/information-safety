{"version":3,"file":"js/10.2f34dbf8.js","mappings":"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","sources":["webpack://yy_shop/./src/components/Scrollbar.vue","webpack://yy_shop/./src/components/Scrollbar.vue?2cbe","webpack://yy_shop/./src/views/KeywordsView.vue","webpack://yy_shop/./src/views/KeywordsView.vue?f86b"],"sourcesContent":["<template>\r\n\t<div style=\"width: 100%;height: 100%;display: flex;\">\r\n\t\t<el-scrollbar class=\"scro_left\" :min-size=\"400\">\r\n\t\t\t<div :class=\"{left_list_click:isFlag==index}\" class=\"left_list\" v-for=\"(item,index) in labels\" \r\n\t\t\t:key=\"index\" @click=\"changClass(index)\">\r\n\t\t\t{{item.yyfName}}\r\n\t\t\t</div>\r\n\t\t</el-scrollbar>\r\n\t\t<el-scrollbar :min-size=\"400\" class=\"scro_right\" >\r\n\t\t\t<slot></slot>\r\n\t\t</el-scrollbar>\r\n\t</div>\r\n</template>\n\n<script setup>\r\n\timport {ref,defineProps,toRefs,defineEmits} from \"vue\"\r\n\tconst props = defineProps({\r\n\t  //子组件接收父组件传递过来的值\r\n\t  labels: {\r\n\t        type: Array,\r\n\t        default: ()=>[]\r\n\t      },\r\n\t})\r\n\t//使用父组件传递过来的值\r\n\tconst {labels} =toRefs(props)\r\n\tconst isFlag=ref(0)\r\n\tconst emit = defineEmits(['handleClick'])\r\n\tconst changClass=(index)=>{\r\n\t\tisFlag.value=index\r\n\t\t emit('handleClick',index)\r\n\t}\n</script>\n\n<style scoped lang=\"scss\">\r\n\t::v-deep .el-scrollbar__wrap{\r\n\t\toverflow: unset !important;\r\n\t}\r\n\t::v-deep .el-scrollbar{\r\n\t\toverflow: unset !important;\r\n\t}\r\n\t.scro_right{\r\n\t\twidth: 80%;\r\n\t\theight: 100%;\r\n\t\tpadding: 0 1rem;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.scro_right ::v-deep .el-scrollbar__wrap{\r\n\t\t\toverflow: auto !important;\r\n\t}\r\n\t.scro_left{\r\n\t\twidth: 20%;\r\n\t\theight: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\t border-right: 0.0325rem solid #ccc;\r\n\t\t \r\n\t\t.left_list{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 0.6rem;\r\n\t\t\tline-height: 0.6rem;\r\n\t\t\tfont-size: 0.20rem;\r\n\t\t\tcolor: #303133;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\ttext-align: right;\r\n\t\t\tpadding-right: 10%;\r\n\t\t}\r\n\t\t.left_list_click{\r\n\t\t\twidth: 101%;\r\n\t\t\theight: 0.8rem;\r\n\t\t\tline-height: 0.8rem;\r\n\t\t\tfont-size: 0.4rem;\r\n\t\t\tcolor: #000;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tborder-right: 0.0325rem solid #000;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import script from \"./Scrollbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Scrollbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Scrollbar.vue?vue&type=style&index=0&id=31f29bba&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作文件\\\\原版\\\\日志系统\\\\日志预处理系统node包完整版\\\\cmpretreatment\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-31f29bba\"]])\n\nexport default __exports__","<template>\r\n<div>\r\n <!-- <el-breadcrumb :separator-icon=\"ArrowRight\" >\r\n    <el-breadcrumb-item>崇明区部门政务信息系统集成接入项目</el-breadcrumb-item>\r\n    <el-breadcrumb-item>日志预处理系统</el-breadcrumb-item>\r\n    <el-breadcrumb-item>关键字管理</el-breadcrumb-item>\r\n  </el-breadcrumb> -->\r\n  <div class=\"top\" >\r\n\t  <div>设备源</div>\r\n    <el-select v-model='queryInfo.type' placeholder=\"选择源名称\" clearable @change=\"wordsTypeChange\" :popper-append-to-body=\"false\" popper-class=\"select-popper\">\r\n      <el-option\r\n          v-for=\"item in type\"\r\n          :key=\"item.value\"\r\n          :label=\"item.label\"\r\n          :value=\"item.value\"\r\n      />\r\n    </el-select>\r\n  </div>\r\n  <div>\r\n\t  <dataSource :labels=\"labels\" @handleClick='handleClick'>\r\n\t  \t\t<template #>\r\n\t  \t\t\t<div class=\"right_title\">所有数据均来自于数据源：<p style=\"font-weight: bolder\">{{ title}}</p></div>\r\n\t  \t\t\t<div class=\"right_words\">\r\n\t  \t\t\t  <el-table :data=\"keywordsList\" style=\"width: 100%; margin-top: 25px\" :row-style=\"rowState\" :header-cell-style=\"headerStyle\"\r\n\t  \t\t\t            :cell-style=\"cellStyle\">\r\n\t  \t\t\t    <el-table-column prop=\"keyWord\" label=\"词 汇 名 称\"/>\r\n\t  \t\t\t    <el-table-column prop=\"isCheck\" label=\"词 汇 类 别\"/>\r\n\t  \t\t\t    <el-table-column label=\"操 作\">\r\n\t  \t\t\t      <template #default=\"scope\">\r\n\t  \t\t\t        <el-button type=\"primary\" :icon=\"Delete\" size='large' @click='deleteKeywords(scope.row.id)'\r\n\t  \t\t\t                   title=\"删除\"></el-button>\r\n\t  \t\t\t        <el-button type=\"primary\" :icon=\"Reading\" size='large' @click='goKeywords(scope.row.keyWord)'\r\n\t  \t\t\t                   title=\"查看管理日志原文\"></el-button>\r\n\t  \t\t\t      </template>\r\n\t  \t\t\t    </el-table-column>\r\n\t  \t\t\t  </el-table>\r\n\t  \t\t\t  <el-pagination\r\n\t  \t\t\t      @current-change=\"handleCurrentChange\"\r\n\t  \t\t\t      background\r\n\t  \t\t\t      layout=\"prev, pager, next\"\r\n\t  \t\t\t      :total=\"total\"\r\n\t  \t\t\t      :current-page=\"queryInfo.currentPage\"\r\n\t  \t\t\t      :page-size=\"queryInfo.pageSize\"\r\n\t  \t\t\t      class=\"pagination-container\"\r\n\t  \t\t\t  />\r\n\t  \t\t\t</div>\r\n\t  \t\t</template>\r\n\t  </dataSource>\r\n  <!--  <el-tabs tab-position=\"left\" class=\"demo-tabs\" style=\"height: 100%\" @tab-click=\"handleClick\">\r\n      <template v-for=\"(item, i) in labels\" :key=\"i\">\r\n        <el-tab-pane :label=\"item.yyfName\">\r\n          <div class=\"right_title\">所有数据均来自于数据源：<p style=\"font-weight: bolder\">{{ item.yyfName }}</p></div>\r\n          <div class=\"right_words\">\r\n            <el-table :data=\"keywordsList\" style=\"width: 100%; margin-top: 25px\" :row-style=\"rowState\" :header-cell-style=\"headerStyle\"\r\n                      :cell-style=\"cellStyle\">\r\n              <el-table-column prop=\"keyWord\" label=\"词 汇 名 称\"/>\r\n              <el-table-column prop=\"isCheck\" label=\"词 汇 类 别\"/>\r\n              <el-table-column label=\"操 作\">\r\n                <template #default=\"scope\">\r\n                  <el-button type=\"primary\" :icon=\"Delete\" size='large' @click='deleteKeywords(scope.row.id)'\r\n                             title=\"删除\"></el-button>\r\n                  <el-button type=\"primary\" :icon=\"Reading\" size='large' @click='goKeywords(scope.row.keyWord)'\r\n                             title=\"查看管理日志原文\"></el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                @current-change=\"handleCurrentChange\"\r\n                background\r\n                layout=\"prev, pager, next\"\r\n                :total=\"total\"\r\n                :current-page=\"queryInfo.currentPage\"\r\n                :page-size=\"queryInfo.pageSize\"\r\n                class=\"pagination-container\"\r\n            />\r\n          </div>\r\n        </el-tab-pane>\r\n      </template>\r\n    </el-tabs> -->\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  ArrowRight, Delete, Reading\r\n} from '@element-plus/icons-vue'\r\nimport dataSource from '@/components/Scrollbar.vue'\r\nimport {getCurrentInstance, onMounted, reactive, ref} from \"vue\";\r\nimport img from \"@/assets/imgs/warning.png\";\r\nimport {useRouter} from \"vue-router\";\r\nconst labels = reactive([])\r\nconst {proxy} = getCurrentInstance()\r\nconst router = useRouter()\r\nconst queryInfo = reactive({\r\n  currentPage: 1,\r\n  pageSize: 13,\r\n  type: ''\r\n})\r\nconst total = ref(0)\r\nconst queryInfoIp = reactive({})\r\nconst type = reactive([\r\n  {label: '关键字', value: 0},\r\n  {label: '非关键字', value: 1},\r\n  {label: '用户字段', value: 2}\r\n])\r\nconst keywordsList = reactive([])\r\n\r\nconst headerStyle = () => {\r\n  return {\r\n    'font-size': '0.18rem',\r\n    'color': 'black',\r\n    'text-align': 'center',\r\n    'font-weight': 'bolder',\r\n    'border': '1px soild black'\r\n  }\r\n}\r\n// 单元格td样式\r\nconst cellStyle = () => {\r\n  return {\r\n    'text-align': 'center',\r\n    'color': 'black',\r\n    'font-size': '0.15rem',\r\n    'height': '0.6rem',\r\n\r\n  }\r\n}\r\n// 行tr样式\r\nconst rowState = (row) => {\r\n  if (row.rowIndex % 2 !== 0)\r\n    return {\r\n      backgroundColor: '#F5F5F5'\r\n    }\r\n}\r\nonMounted(() => {\r\n  // getTitleHeight()\r\n  getAllOdataName()\r\n})\r\nconst getAllOdataName = async () => {\r\n  const {data: res} = await proxy.$http.BasicsService.getOlist()\r\n  if (res.code !== 200) return proxy.$message.error('获取数据源列表失败')\r\n  labels.length = 0\r\n  for (let i = 0; i < res.data.length; i++) {\r\n    labels.push(res.data[i])\r\n  }\r\n  queryInfoIp.facility = labels[0].yyfFacility\r\n   title.value=labels[0].yyfName\r\n  queryInfoIp.host = labels[0].yyfHost\r\n  getKeywordsList()\r\n}\r\nconst title=ref(\"\")\r\n// tabs切换\r\nconst handleClick = tab => {\r\n title.value=labels[tab].yyfName\r\n queryInfo.facility = labels[tab].yyfFacility\r\n queryInfo.host = labels[tab].yyfHost\r\n  getKeywordsList()\r\n}\r\n// 获取分类词汇列表\r\nconst getKeywordsList = async () => {\r\n  // console.log({...queryInfoIp, ...queryInfo})\r\n  const {data: res} = await proxy.$http.KeywordsService.getAllWords({...queryInfoIp, ...queryInfo})\r\n  \r\n  if (res.code !== 200) return proxy.$message.error('获取词库失败')\r\n  // console.log(res.data.records)\r\n  keywordsList.length = 0\r\n  for(let i = 0; i < res.data.records.length; i++) {\r\n    if (res.data.records[i].isCheck === 0) res.data.records[i].isCheck = '关键字'\r\n    if (res.data.records[i].isCheck === 1) res.data.records[i].isCheck = '非关键字'\r\n    if (res.data.records[i].isCheck === 2) res.data.records[i].isCheck = '用户字段'\r\n    keywordsList.push(res.data.records[i])\r\n  }\r\n  total.value = res.data.total\r\n}\r\n// 根据分页器切换每页的关键字\r\nconst handleCurrentChange = val => {\r\n\t// console.log(queryInfo);\r\n  queryInfo.currentPage = val\r\n  getKeywordsList()\r\n}\r\n// 切换分类\r\nconst wordsTypeChange = () => {\r\n  getKeywordsList()\r\n}\r\n\r\n// 删除词汇分类\r\nconst deleteKeywords = id => {\r\n  proxy.$messageBox.confirm(\r\n      '<img style=\"width: 0.25rem; margin-right: 0.1rem;\" src=' + img + '><div style=\"display: flex; justify-content: center\"><el-icon><Edit /> </el-icon><p>此操作将删除该分类词汇,是否继续？</p></div>',\r\n      '删 除 分 类 词 汇',\r\n      {\r\n        confirmButtonText: '确认删除',\r\n        cancelButtonText: '取消',\r\n        cancelButtonClass: 'el-mes-btn',\r\n        confirmButtonClass: 'el-mes-btn',\r\n        dangerouslyUseHTMLString: true\r\n      }\r\n  ).then(async () => {\r\n    const {data: res} = await proxy.$http.KeywordsService.deleteAllWords({item: id})\r\n    if (res.code !== 200) return proxy.$message.error('删除分类词汇失败')\r\n    getKeywordsList()\r\n    return proxy.$message.success('删除分类词汇成功')\r\n  })\r\n      .catch(() => {\r\n        proxy.$message({\r\n          type: 'info',\r\n          message: '取消删除',\r\n        })\r\n\t\tconsole.log({item: id});\r\n      })\r\n}\r\n\r\n// 查看关键字关联日志原文\r\nconst goKeywords = item => {\r\n  const go = router.resolve({\r\n    path: '/detail',\r\n    query: {item, ...queryInfoIp}\r\n  })\r\n  window.open(go.href, '_blank')\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.top {\r\n width: 100%;\r\n\t  box-sizing: border-box;\r\n\theight: 1rem;\r\n\tfont-size: 0.4rem;\r\n\ttext-align: left;\r\n\tpadding: 0.2rem;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\ttext-align: center;\r\n  .el-select {\r\n    position: absolute;\r\n    right: 0.4rem;\r\n    height: 60px;\r\n    width: 300px;\r\n    background-color: red;\r\n    border-radius: 15px;\r\n    overflow: hidden;\r\n  }\r\n\r\n\r\n  .el-input-bg-color {\r\n    background-color: #409EFF;\r\n  }\r\n\r\n  :deep(.el-input__inner) {\r\n    background-color: rgb(18,15,29);\r\n    padding: 30px 20px;\r\n    font-weight: bolder;\r\n    font-size: 18px;\r\n    &::placeholder {\r\n      color: white;\r\n      font-weight: bolder;\r\n      font-size: 18px\r\n    }\r\n  }\r\n\r\n  :deep(.el-select .el-input .el-select__caret) {\r\n    color: white;\r\n  }\r\n\r\n  :deep(.el-select-dropdown__item.selected) {\r\n    span {\r\n      color: red !important;\r\n    }\r\n  }\r\n}\r\n:deep(.el-input__wrapper) {\r\n  background-color: rgb(18,15,29)\r\n}\r\n\r\n:deep(.el-input__inner) {\r\n  color: white\r\n}\r\n\t.tab_title {\r\n\t  font-size: 0.3rem;\r\n\t  font-weight: bolder;\r\n\t  position: absolute;\r\n\t  transform: translateY(-0.5rem);\r\n\t  display: flex;\r\n\t  width: 30%;\r\n\t  min-width: 500px;\r\n\t  div:nth-child(2) {\r\n\t    margin-left: 40%;\r\n\t  }\r\n\r\n}\r\n.tabs_box {\r\n  height: 80%;\r\n  margin-top: 1rem;\r\n}\r\n.right_title {\r\n  font-size: 0.2rem;\r\n  text-align: left;\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  margin: 0 0.5rem;\r\n}\r\n.el-table {\r\n  .el-button {\r\n    background-color: rgba(255, 255, 255, 0);\r\n    color: black;\r\n    font-size: 0.3rem;\r\n    width: 0.3rem;\r\n    border: none;\r\n  }\r\n\r\n  .el-button:hover {\r\n    background-color: black;\r\n    color: white;\r\n  }\r\n}\r\n.select-popper {\r\n  .el-select-dropdown__item.selected {\r\n    color: black;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./KeywordsView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./KeywordsView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./KeywordsView.vue?vue&type=style&index=0&id=e3debebe&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作文件\\\\原版\\\\日志系统\\\\日志预处理系统node包完整版\\\\cmpretreatment\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e3debebe\"]])\n\nexport default __exports__"],"names":["labels","toRefs","props","isFlag","ref","changClass","index","value","emit","__exports__","reactive","proxy","getCurrentInstance","router","useRouter","queryInfo","currentPage","pageSize","type","total","queryInfoIp","label","keywordsList","headerStyle","cellStyle","rowState","row","rowIndex","backgroundColor","onMounted","getAllOdataName","async","data","res","$http","BasicsService","getOlist","code","$message","error","length","i","push","facility","yyfFacility","title","yyfName","host","yyfHost","getKeywordsList","handleClick","tab","KeywordsService","getAllWords","records","isCheck","handleCurrentChange","val","wordsTypeChange","deleteKeywords","id","$messageBox","confirm","img","confirmButtonText","cancelButtonText","cancelButtonClass","confirmButtonClass","dangerouslyUseHTMLString","then","deleteAllWords","item","success","catch","message","console","log","goKeywords","go","resolve","path","query","window","open","href"],"sourceRoot":""}