{"version":3,"file":"js/369.2d31db97.js","mappings":"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","sources":["webpack://yy_shop/./src/components/Scrollbar.vue","webpack://yy_shop/./src/components/Scrollbar.vue?2cbe","webpack://yy_shop/./src/views/SublevelView.vue","webpack://yy_shop/./src/views/SublevelView.vue?570d"],"sourcesContent":["<template>\r\n\t<div style=\"width: 100%;height: 100%;display: flex;\">\r\n\t\t<el-scrollbar class=\"scro_left\" :min-size=\"400\">\r\n\t\t\t<div :class=\"{left_list_click:isFlag==index}\" class=\"left_list\" v-for=\"(item,index) in labels\" \r\n\t\t\t:key=\"index\" @click=\"changClass(index)\">\r\n\t\t\t{{item.yyfName}}\r\n\t\t\t</div>\r\n\t\t</el-scrollbar>\r\n\t\t<el-scrollbar :min-size=\"400\" class=\"scro_right\" >\r\n\t\t\t<slot></slot>\r\n\t\t</el-scrollbar>\r\n\t</div>\r\n</template>\n\n<script setup>\r\n\timport {ref,defineProps,toRefs,defineEmits} from \"vue\"\r\n\tconst props = defineProps({\r\n\t  //子组件接收父组件传递过来的值\r\n\t  labels: {\r\n\t        type: Array,\r\n\t        default: ()=>[]\r\n\t      },\r\n\t})\r\n\t//使用父组件传递过来的值\r\n\tconst {labels} =toRefs(props)\r\n\tconst isFlag=ref(0)\r\n\tconst emit = defineEmits(['handleClick'])\r\n\tconst changClass=(index)=>{\r\n\t\tisFlag.value=index\r\n\t\t emit('handleClick',index)\r\n\t}\n</script>\n\n<style scoped lang=\"scss\">\r\n\t::v-deep .el-scrollbar__wrap{\r\n\t\toverflow: unset !important;\r\n\t}\r\n\t::v-deep .el-scrollbar{\r\n\t\toverflow: unset !important;\r\n\t}\r\n\t.scro_right{\r\n\t\twidth: 80%;\r\n\t\theight: 100%;\r\n\t\tpadding: 0 1rem;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.scro_right ::v-deep .el-scrollbar__wrap{\r\n\t\t\toverflow: auto !important;\r\n\t}\r\n\t.scro_left{\r\n\t\twidth: 20%;\r\n\t\theight: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\t border-right: 0.0325rem solid #ccc;\r\n\t\t \r\n\t\t.left_list{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 0.6rem;\r\n\t\t\tline-height: 0.6rem;\r\n\t\t\tfont-size: 0.20rem;\r\n\t\t\tcolor: #303133;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\ttext-align: right;\r\n\t\t\tpadding-right: 10%;\r\n\t\t}\r\n\t\t.left_list_click{\r\n\t\t\twidth: 101%;\r\n\t\t\theight: 0.8rem;\r\n\t\t\tline-height: 0.8rem;\r\n\t\t\tfont-size: 0.4rem;\r\n\t\t\tcolor: #000;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tborder-right: 0.0325rem solid #000;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import script from \"./Scrollbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Scrollbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Scrollbar.vue?vue&type=style&index=0&id=31f29bba&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作文件\\\\原版\\\\日志系统\\\\日志预处理系统node包完整版\\\\cmpretreatment\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-31f29bba\"]])\n\nexport default __exports__","<template>\r\n  <!-- <el-breadcrumb :separator-icon=\"ArrowRight\">\r\n    <el-breadcrumb-item>崇明区部门政务信息系统集成接入项目</el-breadcrumb-item>\r\n    <el-breadcrumb-item>日志预处理系统</el-breadcrumb-item>\r\n    <el-breadcrumb-item>分段操作</el-breadcrumb-item>\r\n  </el-breadcrumb> -->\r\n\r\n  <div>\r\n\t  <div class=\"top\" >\r\n\t  \t<div>设备源</div>\r\n\t  </div>\r\n\t   <dataSource :labels=\"labels\" @handleClick='handleClick'>\r\n\t   \t\t<template #>\r\n\t   \t\t\t<div class=\"right_title\">所有数据均来自于数据源：<p style=\"font-weight: bolder\">{{title}}</p></div>\r\n\t   \t\t\t<div class=\"right_reg\">\r\n\t   \t\t\t  <div class=\"right_reg_title\">\r\n\t   \t\t\t    <p>正则表达式：</p>\r\n\t   \t\t\t    <div class=\"right_reg_content\">\r\n\t   \t\t\t      <div class=\"showReg\">\r\n\t   \t\t\t        <p v-for=\"(itemSon, iSon) in subList.regList\" :key=\"iSon\">{{ itemSon.yyrName }} : {{\r\n\t   \t\t\t            itemSon.yyrRegular\r\n\t   \t\t\t          }}</p>\r\n\t   \t\t\t      </div>\r\n\t   \t\t\t      <p >\r\n\t   \t\t\t        <template v-for=\"(itemSon, iSon) in subList.regList\" :key=\"iSon\">\r\n\t   \t\t\t          {{ itemSon.yyrName }} : {{itemSon.yyrRegular }}&nbsp;&nbsp;&nbsp;\r\n\t   \t\t\t        </template>\r\n\t   \t\t\t        </p>\r\n\t   \t\t\t    </div>\r\n\t   \t\t\t  </div>\r\n\t   \t\t\t\r\n\t   \t\t\t  <div class=\"right_reg_btn\">\r\n\t   \t\t\t    <el-button :icon=\"Edit\" title=\"修改正则\" @click=\"changeReg\"></el-button>\r\n\t   \t\t\t  </div>\r\n\t   \t\t\t</div>\r\n\t   \t\t\t<div class=\"right_data\">\r\n\t   \t\t\t  <template v-for=\"(itemGirl, iGirl) in subList.logList\" :key=\"iGirl\">\r\n\t   \t\t\t    <div class=\"content_box\">\r\n\t   \t\t\t      <div class=\"content_old\">正则规则：{{ itemGirl.regularKey }}</div>\r\n\t   \t\t\t      <div class=\"content_results\">\r\n\t   \t\t\t        <p style=\"height: 50px; line-height: 50px;\">正则结果:&nbsp;&nbsp;</p>\r\n\t   \t\t\t        <template v-for=\"(itemGirlSon, iGirlSon) in itemGirl.regularValues\" :key=\"iGirlSon\">\r\n\t   \t\t\t          <div class=\"content_result\" v-if=\"itemGirlSon !== ''\" @click=\"toDetail(itemGirlSon)\">{{itemGirlSon}}</div>\r\n\t   \t\t\t        </template>\r\n\t   \t\t\t      </div>\r\n\t   \t\t\t    </div>\r\n\t   \t\t\t  </template>\r\n\t   \t\t\t</div>\r\n\t   \t\t</template>\r\n\t   </dataSource>\r\n  \r\n  <!--  添加日志源-->\r\n  <el-dialog\r\n      title=\"修 改 正 则 规 则\"\r\n      :model-value=\"dialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"50%\" @close='closeDia'>\r\n    <el-form label-width='30%' :model='regForm' :rules=\"regRules\" status-icon ref=\"cgThisRegRef\">\r\n      <el-form-item prop='log' label='日志原文：'>\r\n        <el-input v-model='testLog'></el-input>\r\n      </el-form-item>\r\n      <div class=\"btn_add\">\r\n        <el-button @click=\"addReg\" style=\"margin-bottom: 10px; right: 0; font-size: 0.35rem; width: 30px; height: 30px;\"\r\n                   title=\"添加正则\">+\r\n        </el-button>\r\n      </div>\r\n      <el-form-item\r\n          v-for=\"(reg, index) in regForm.regs\"\r\n          :key=\"index\"\r\n          :label=\"'正则' + (index+1) + '：'\"\r\n          :prop=\"'regs.' + index + '.rule'\"\r\n          :rules=\"{\r\n        required: true,\r\n        message: '正则名称和规则不能为空',\r\n        trigger: 'blur',\r\n      }\"\r\n      >\r\n        <div class=\"a_reg\">\r\n          <el-input placeholder=\"正则名\" v-model=\"reg.yyrName\" style=\"width: 25%;\" @blur=\"check(index)\"/>\r\n          <el-input placeholder=\"正则规则\" v-model=\"reg.yyrRegular\" style=\"width: 60%;\" @blur=\"check(index)\"/>\r\n          <el-button :disabled=\"index === 0\" @click=\"removeReg(reg)\" title=\"删除正则\"\r\n                     style=\"width: 30px; height: 30px; font-size: 0.35rem; line-height: 10px\">-\r\n          </el-button>\r\n        </div>\r\n        <!--        <el-button class=\"mt-2\" @click.prevent=\"removeDomain(domain)\">Delete</el-button>-->\r\n      </el-form-item>\r\n      <div class=\"test_reg\">\r\n        <el-button @click=\"toTestReg\">测试结果</el-button>\r\n        <div class=\"test_result\">\r\n          <span v-for=\"(itemQ, indexQ) in testRegs\" :key=\"indexQ\">\r\n            {{itemQ.name}} : {{itemQ.value}}<br/>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class='item_button'>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"toChangeReg\">确 定</el-button>\r\n        </span>\r\n      </div>\r\n    </el-form>\r\n  </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  ArrowRight, Edit\r\n} from '@element-plus/icons-vue'\r\nimport dataSource from '@/components/Scrollbar.vue'\r\nimport {onMounted, reactive, ref, getCurrentInstance} from \"vue\";\r\nimport {useRouter} from \"vue-router\";\r\n// import img from \"@/assets/imgs/warning.png\";\r\n\r\nconst router = useRouter()\r\nconst {proxy} = getCurrentInstance()\r\n/* 日期 */\r\n// const dateNow = ref('')\r\n// const shortcuts = reactive([\r\n//   {\r\n//     text: '过去一周',\r\n//     value: () => {\r\n//       const end = new Date()\r\n//       const start = new Date()\r\n//       start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n//       return [start, end]\r\n//     },\r\n//   },\r\n//   {\r\n//     text: '过去一个月',\r\n//     value: () => {\r\n//       const end = new Date()\r\n//       const start = new Date()\r\n//       start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n//       return [start, end]\r\n//     },\r\n//   }\r\n// ])\r\n// 数据源列表\r\nconst labels = reactive([])\r\n// 分段列表\r\nconst subList = reactive({\r\n  regList: [],\r\n  logList: []\r\n})\r\n\r\n// 提交正则\r\nconst dialogVisible = ref(false)\r\nconst regForm = reactive({\r\n  regs: [{yyrName: '', yyrRegular: ''}]\r\n})\r\nconst regRules = reactive([])\r\n// 当前数据源的唯一标识\r\nconst queryInfo = {\r\n  yyrHost: '',\r\n  yyrFacility: ''\r\n}\r\n// 测试正则结果\r\nconst testRegs = reactive([])\r\nconst cgThisRegRef = ref('')\r\nonMounted(() => {\r\n  // getTitleHeight()\r\n  getAllOdataName()\r\n})\r\n// 获取数据源列表\r\nconst getAllOdataName = async () => {\r\n  const {data: res} = await proxy.$http.BasicsService.getOlist()\r\n  if (res.code !== 200) return proxy.$message.error('获取数据源列表失败')\r\n  labels.length = 0\r\n  for (let i = 0; i < res.data.length; i++) {\r\n    labels.push(res.data[i])\r\n  }\r\n  queryInfo.yyrHost = labels[0].yyfHost\r\n  title.value=labels[0].yyfName\r\n  queryInfo.yyrFacility = labels[0].yyfFacility\r\n  getReg()\r\n  getRegAndSub()\r\n}\r\nconst title=ref(\"\")\r\n// tabs切换\r\nconst handleClick = tab => {\r\n title.value=labels[tab].yyfName\r\n queryInfo.facility = labels[tab].yyfFacility\r\n queryInfo.host = labels[tab].yyfHost\r\n console.log(queryInfo);\r\n  getReg()\r\n  getRegAndSub()\r\n}\r\n/*日期*/\r\n// const disabledDate = (time) => {\r\n//   return time.getTime() >= Date.now() - 86400000\r\n// }\r\n\r\n// 测试日志\r\n// const testReg = () => {\r\n//   proxy.$messageBox.confirm(\r\n//       '<img style=\"width: 0.25rem; margin-right: 0.1rem;\" src=' + img + '><div style=\"display: flex; justify-content: center\"><el-icon><Edit /> </el-icon><p>是否以此正则规则进行测试？</p></div>',\r\n//       '测 试 正 则 规 则',\r\n//       {\r\n//         confirmButtonText: '确认',\r\n//         cancelButtonText: '取消',\r\n//         cancelButtonClass: 'el-mes-btn',\r\n//         confirmButtonClass: 'el-mes-btn',\r\n//         dangerouslyUseHTMLString: true\r\n//       }\r\n//   ).then(async () => {\r\n//     return proxy.$message({\r\n//       type: 'success',\r\n//       message: '获取测试结果成功',\r\n//     })\r\n//   })\r\n//       .catch(() => {\r\n//         proxy.$message({\r\n//           type: 'info',\r\n//           message: '取消',\r\n//         })\r\n//       })\r\n// }\r\n// 获取分段结果\r\nconst getRegAndSub = async () => {\r\n  const {data: res} = await proxy.$http.SublevelService.getAllSubReg({facility: queryInfo.yyrFacility, host: queryInfo.yyrHost})\r\n  if (res.code !== 200) return proxy.$message.error('获取初始化数据错误')\r\n  subList.logList.length = 0\r\n  for (let i = 0; i < res.data.length; i++) {\r\n    subList.logList.push(res.data[i])\r\n  }\r\n}\r\n\r\n// 获取正则\r\nconst getReg = async () => {\r\n  const {data: res} = await proxy.$http.SublevelService.getReg(queryInfo)\r\n  if (res.code !== 200) return proxy.$message.error('获取正则失败')\r\n  subList.regList.length = 0\r\n  for (let i = 0; i < res.data.length; i++) {\r\n    res.data[i].rule = 'go'\r\n    subList.regList.push(res.data[i])\r\n  }\r\n}\r\n\r\n// 修改正则\r\nconst changeReg = () => {\r\n  if (subList.regList.length !== 0) {\r\n    regForm.regs.length = 0\r\n    for (let i = 0; i < subList.regList.length; i++) {\r\n      regForm.regs.push(subList.regList[i])\r\n    }\r\n  }\r\n  dialogVisible.value = true\r\n}\r\nconst closeDia = () => {\r\n  dialogVisible.value = false\r\n}\r\nconst toChangeReg = () => {\r\n  cgThisRegRef.value.validate(async valid => {\r\n    if (!valid) return\r\n    for (let i = 0; i < regForm.regs.length; i++) {\r\n      regForm.regs[i].yyrHost = queryInfo.yyrHost\r\n      regForm.regs[i].yyrFacility = queryInfo.yyrFacility\r\n    }\r\n    const {data: res} = await proxy.$http.SublevelService.addReg(regForm.regs)\r\n    if (res.code !== 200) return proxy.$message.error('修改正则失败')\r\n    proxy.$message.success('修改正则成功')\r\n    getReg()\r\n    getRegAndSub()\r\n    dialogVisible.value = false\r\n  })\r\n\r\n}\r\nconst testLog = ref('')\r\n\r\n// 增加正则\r\nconst addReg = () => {\r\n  regForm.regs.push({\r\n    yyrName: '', yyrRegular: ''\r\n  })\r\n}\r\n// 删除正则\r\nconst removeReg = item => {\r\n  const index = regForm.regs.indexOf(item)\r\n  if (index !== -1) {\r\n    regForm.regs.splice(index, 1)\r\n  }\r\n}\r\n\r\n// 检查正则\r\nconst check = index => {\r\n  if (regForm.regs[index].yyrRegular !== '' && regForm.regs[index].yyrName !== '') regForm.regs[index].rule = 'go'\r\n  else regForm.regs[index].rule = ''\r\n}\r\n\r\n// 测试正则\r\nconst toTestReg = async () => {\r\n  const {data: res} = await proxy.$http.SublevelService.testReg({msg: testLog.value, regularDtoList: regForm.regs})\r\n  console.log(res)\r\n  if (res.code !== 200) return proxy.$message.error('获取测试结果失败')\r\n  testRegs.length = 0\r\n  for (let i = 0; i < res.data.length; i++) {\r\n    // if (res.data[i].value === '') proxy.$message.error(res.data[i].name + '：正则规则有误')\r\n    testRegs.push(res.data[i])\r\n  }\r\n}\r\n\r\n// 查询分段结果\r\nconst toDetail = item => {\r\n  const go = router.resolve({\r\n    path: '/detail',\r\n    query: {item, ...queryInfo}\r\n  })\r\n  window.open(go.href, '_blank')\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n// .top {\r\n//   width: 100%;\r\n//   height: 50px;\r\n//   box-sizing: border-box;\r\n//   position: relative;\r\n//   margin: 20px 0 50px;\r\n\r\n//   :deep(.el-range-editor.el-input__wrapper) {\r\n//     position: absolute;\r\n//     right: 0.4rem;\r\n//     background-color: rgb(18, 16, 29);\r\n//     border-radius: 15px;\r\n//     height: 40px;\r\n//   }\r\n\r\n//   :deep(.el-date-editor .el-range-input) {\r\n//     color: white;\r\n//     font-weight: bolder;\r\n//   }\r\n\r\n//   :deep(.el-date-editor .el-range-separator) {\r\n//     color: white;\r\n//   }\r\n// }\r\n.top {\r\n\t  width: 100%;\r\n\t  box-sizing: border-box;\r\n\theight: 1rem;\r\n\tfont-size: 0.4rem;\r\n\ttext-align: left;\r\n\tpadding: 0.2rem;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\ttext-align: center;\r\n\t}\r\n.tab_title {\r\n  font-size: 0.3rem;\r\n  font-weight: bolder;\r\n  position: absolute;\r\n  transform: translateY(-0.5rem)\r\n}\r\n\r\n.right_title {\r\n  font-size: 0.2rem;\r\n  text-align: left;\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  margin: 0 0.5rem;\r\n}\r\n\r\n.right_reg {\r\n  margin: 0.4rem 0.5rem;\r\n  display: flex;\r\n  height: 0.3rem;\r\n  width: 91.5%;\r\n  line-height: 45px;\r\n  justify-content: space-between;\r\n  .right_reg_title {\r\n    display: flex;\r\n    width: 90%;\r\n    p {\r\n      min-width: 120px;\r\n      font-size: 0.2rem;\r\n      text-align: left;\r\n    }\r\n    .right_reg_content {\r\n      margin-left: 0.2rem;\r\n      font-size: 0.18rem;\r\n      flex-wrap: wrap;\r\n      display: flex;\r\n      height: 110%;\r\n      width: 80%;\r\n      p {\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow:ellipsis;\r\n        width: 100%;\r\n        height: 100%;\r\n        line-height: 45px;\r\n        font-weight: bolder;\r\n      }\r\n    }\r\n  }\r\n  .right_reg_content:hover .showReg {\r\n    display: block;\r\n  }\r\n\r\n  .right_reg_btn .el-button {\r\n    background-color: white;\r\n    color: rgb(18, 15, 29);\r\n    border: 1px solid rgb(18, 15, 29);\r\n    height: 45px;\r\n    width: 45px;\r\n    font-size: 0.2rem;\r\n    transform: translateY(-15px);\r\n  }\r\n\r\n  .right_reg_btn .el-button:hover {\r\n    background-color: rgb(18, 15, 29);\r\n    color: white;\r\n  }\r\n}\r\n\r\n.right_data {\r\n  margin-top: 0.4rem;\r\n  font-size: 0.2rem;\r\n\r\n  .content_box {\r\n    text-align: left;\r\n    border-radius: 15px;\r\n    border: 2px solid rgb(18, 15, 29);\r\n    box-sizing: border-box;\r\n    margin: 0.2rem auto;\r\n    padding: 15px;\r\n    width: 90%;\r\n\r\n    .content_old {\r\n      font-weight: bolder;\r\n    }\r\n\r\n    .content_results {\r\n      margin-top: 0.15rem;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n\r\n      .content_result {\r\n        margin-top: 10px;\r\n        font-size: 0.18rem;\r\n        background-color: rgb(151, 150, 156);\r\n        color: white;\r\n        border-radius: 5px;\r\n        box-sizing: border-box;\r\n        padding: 5px 10px;\r\n        margin-right: 0.3rem;\r\n        height: 30px;\r\n        cursor: pointer;\r\n      }\r\n      .content_result:hover {\r\n        background-color: black;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.showReg {\r\n  position: absolute;\r\n  background-color: rgba(18, 15, 29, 0.8);\r\n  color: white;\r\n  font-size: 0.15rem;\r\n  transform: translateX(2rem) translateY(-0.4rem);\r\n  padding: 10px 10px 0;\r\n  display: none;\r\n  border-radius: 15px;\r\n\r\n  p {\r\n    margin-top: -15px;\r\n  }\r\n}\r\n\r\n.el-form {\r\n  width: 100%;\r\n  margin: 0 auto;\r\n\r\n  .btn_add {\r\n    display: flex;\r\n    justify-content: right;\r\n    width: 75%;\r\n    margin: 10px auto;\r\n  }\r\n\r\n  :deep(.el-form-item__label) {\r\n    font-size: 0.16rem;\r\n    font-weight: bolder;\r\n    margin-right: 0.2rem;\r\n  }\r\n\r\n  .el-select {\r\n    width: 25%;\r\n  }\r\n\r\n  .el-input {\r\n    width: 80%;\r\n    border-radius: 15px;\r\n    overflow: hidden;\r\n    margin-right: 3%;\r\n  }\r\n\r\n  .el-button {\r\n    background-color: white;\r\n    color: rgb(18, 16, 29);\r\n    border: 1px solid black;\r\n    font-size: 0.15rem;\r\n    height: 35px;\r\n\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .el-button:hover {\r\n    background-color: rgb(18, 16, 29);\r\n    color: white;\r\n    border: none;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  :deep(.el-input__wrapper) {\r\n    border-radius: 15px;\r\n    border: none;\r\n  }\r\n\r\n  .test_reg {\r\n    display: flex;\r\n    width: 70%;\r\n    margin: 50px 20%;\r\n    text-align: left;\r\n\r\n    .el-button {\r\n      height: inherit;\r\n      margin-right: 20px;\r\n    }\r\n\r\n    .test_result {\r\n      box-sizing: border-box;\r\n      border-radius: 15px;\r\n      border: 1px solid black;\r\n      padding: 20px;\r\n      width: 120%;\r\n    }\r\n  }\r\n\r\n  .item_button {\r\n    margin-top: 0.9rem;\r\n\r\n    .dialog-footer {\r\n      display: flex;\r\n      width: 100%;\r\n      justify-content: center;\r\n\r\n      .el-button {\r\n        background-color: rgb(18, 16, 29);\r\n        color: white;\r\n        font-size: 0.15rem;\r\n        height: 35px;\r\n        width: 1rem;\r\n        border: none;\r\n        box-sizing: border-box;\r\n        margin: 0 0.5rem;\r\n      }\r\n\r\n      .el-button:hover {\r\n        background-color: white;\r\n        color: rgb(18, 16, 29);\r\n        border: 1px solid black;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./SublevelView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SublevelView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SublevelView.vue?vue&type=style&index=0&id=ac5e2992&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作文件\\\\原版\\\\日志系统\\\\日志预处理系统node包完整版\\\\cmpretreatment\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ac5e2992\"]])\n\nexport default __exports__"],"names":["labels","toRefs","props","isFlag","ref","changClass","index","value","emit","__exports__","router","useRouter","proxy","getCurrentInstance","reactive","subList","regList","logList","dialogVisible","regForm","regs","yyrName","yyrRegular","regRules","queryInfo","yyrHost","yyrFacility","testRegs","cgThisRegRef","onMounted","getAllOdataName","async","data","res","$http","BasicsService","getOlist","code","$message","error","length","i","push","yyfHost","title","yyfName","yyfFacility","getReg","getRegAndSub","handleClick","tab","facility","host","console","log","SublevelService","getAllSubReg","rule","changeReg","closeDia","toChangeReg","validate","valid","addReg","success","testLog","removeReg","item","indexOf","splice","check","toTestReg","testReg","msg","regularDtoList","toDetail","go","resolve","path","query","window","open","href"],"sourceRoot":""}