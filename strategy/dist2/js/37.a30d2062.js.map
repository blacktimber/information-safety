{"version":3,"file":"js/37.a30d2062.js","mappings":"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","sources":["webpack://yy_shop/./src/components/table.vue","webpack://yy_shop/./src/components/table.vue?b38c","webpack://yy_shop/./src/components/Scrollbar.vue","webpack://yy_shop/./src/components/Scrollbar.vue?42cc","webpack://yy_shop/./src/components/StrDialog.vue","webpack://yy_shop/./src/components/StrDialog.vue?536c","webpack://yy_shop/./src/views/odata.vue","webpack://yy_shop/./src/views/odata.vue?ad33"],"sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"right_words\">\n            <el-table :data=\"keywordsList\"  :header-cell-style=\"headerStyle\" max-height=\"5rem\" \n                      :cell-style=\"cellStyle\" >\n              <el-table-column v-for=\"(item,index) in tableList\" :key=\"index\" :prop=\"keyss[index]\" :label=\"item.title\"/>\n              <!-- <el-table-column v-for=\"(item,index) in tableList\" :key=\"index\" :label=\"item.title\"/> -->\n\t\t\t  <el-table-column :label=\"label\" v-if=\"label=='操作'\">\n\t\t\t\t   <template #default=\"scope\">\n\t\t\t\t\t   <el-button  class=\"butn\" :icon=\"Edit\" size='large' @click='updateKeywords(scope.row)'\n\t\t\t\t\t              title=\"编辑策略\"></el-button>\n\t\t\t\t\t   <el-button class=\"butn\" :icon=\"Delete\" size='large' @click='deleteKeywords(scope.row.id)'\n\t\t\t\t\t              title=\"删除策略\"></el-button>\n\t\t\t\t\t\t<el-button class=\"butn\" :icon=\"VideoPlay\" size='large' @click='gowords(scope.row)'\n\t\t\t\t\t\t\t\t             title=\"运行策略\"></el-button>\n\t\t\t\t   </template>\n              </el-table-column>\n\t\t\t  <el-table-column :label=\"label\" v-if=\"label=='下载'\">\n\t\t\t  \t\t\t\t   <template #default=\"scope\">\n\t\t\t  \t\t\t\t\t   <el-button  class=\"butn\" :icon=\"Download\" size='large' @click='download(scope.row)'\n\t\t\t  \t\t\t\t\t              title=\"下载日志\"></el-button>\n\t\t\t  \t\t\t\t   </template>\n\t\t\t  </el-table-column>\n            </el-table>\n          <el-pagination\n              @current-change=\"handleCurrentChange\"\n              background\n              layout=\"prev, pager, next\"\n              :total=\"total\"\n              :current-page=\"queryInfo.currentPage\"\n              :page-size=\"queryInfo.pageSize\"\n              class=\"pagination-container\"\n          />\n          </div>\n\t\t  </div>\n</template>\n\n<script setup>\n\timport {\n\t  Delete, Edit,Download,VideoPlay\n\t} from '@element-plus/icons-vue'\n\timport {ref, toRefs, defineProps,defineEmits } from 'vue'\n\tconst props = defineProps({\n\t  //子组件接收父组件传递过来的值\n\t  keywordsList: Array,\n\t  tableList:Array,\n\t  total:Number,\n\t  queryInfo:Object,\n\t  label:String,\n\t  keyss:Array\n\t})\n\t//使用父组件传递过来的值\n\tconst {keywordsList,tableList,total,queryInfo,label,keyss} =toRefs(props)\n\t// 表头样式\n\tconst headerStyle=()=>{\n\t\treturn {\n\t\t  'font-size': '0.18rem',\n\t\t  'color': 'black',\n\t\t  'text-align': 'center',\n\t\t  'font-weight': 'bolder',\n\t\t  'border': '1px soild black'\n\t\t}\n\t}\n\t// 单元格td样式\n\tconst cellStyle = () => {\n\t  return {\n\t    'text-align': 'center',\n\t    'color': 'black',\n\t    'font-size': '0.15rem',\n\t    'height': '0.6rem',\n\t  }\n\t}\n\t// 删除弹框\n\tconst emit = defineEmits(['deleteKeywords','updateKeywords','CurrentChange','download','gowords'])\n\tconst deleteKeywords=(index)=>{\n\t\temit('deleteKeywords',index)\n\t}\n\t// 运行策略\n\tconst gowords=(index)=>{\n\t\temit('gowords',index)\n\t}\n\t// 修改弹框\n\tconst updateKeywords=(item)=>{\n\t\temit('updateKeywords',item)\n\t}\n\t// 切换页码\n\tconst handleCurrentChange = val => {\n\t  emit('CurrentChange',val)\n\t}\n\t// 下载\n\tconst download = val => {\n\t\temit('download',val.yysFacility)\n\t  // emit('CurrentChange',val)\n\t}\n\t\n</script>\n\n<style  scoped lang=\"scss\">\n\t.butn {\n\t  background-color: rgba(255, 255, 255, 0);\n\t  color: black;\n\t  font-size: 0.3rem;\n\t  width: 0.3rem;\n\t  border: none;\n\t}\n\t\t\n\t.butn:hover {\n\t  background-color: black;\n\t  color: white;\n\t}\n\t.pagination-container{\n\t\tfloat: right;\n\t}\n\t/deep/.cell{\n\t\t word-break: break-all;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-box-orient: vertical;\n\t\t-webkit-line-clamp: 6;\n\t\toverflow: hidden; \n\t}\n\t/deep/.cell:hover{\n\t\t-webkit-line-clamp: unset !important;\n\t}\n</style>","import script from \"./table.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./table.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./table.vue?vue&type=style&index=0&id=b6296dfe&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作文件\\\\原版\\\\日志系统\\\\日志预处理系统node包完整版\\\\strategy\\\\node_modules\\\\.store\\\\vue-loader@17.0.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b6296dfe\"]])\n\nexport default __exports__","<template>\r\n\t<div style=\"width: 100%;height: auto;display: flex;\">\r\n\t\t<el-scrollbar class=\"scro_left\" :min-size=\"400\">\r\n\t\t\t<div :class=\"{left_list_click:isFlag==index}\" class=\"left_list\" v-for=\"(item,index) in labels\" \r\n\t\t\t:key=\"index\" @click=\"changClass(index)\">\r\n\t\t\t{{item.yyfName}}\r\n\t\t\t</div>\r\n\t\t</el-scrollbar>\r\n\t\t<el-scrollbar :min-size=\"400\" class=\"scro_right\" >\r\n\t\t\t<slot></slot>\r\n\t\t</el-scrollbar>\r\n\t</div>\r\n</template>\n\n<script setup>\r\n\timport {ref,defineProps,toRefs,defineEmits} from \"vue\"\r\n\tconst props = defineProps({\r\n\t  //子组件接收父组件传递过来的值\r\n\t  labels: {\r\n\t        type: Array,\r\n\t        default: ()=>[]\r\n\t      },\r\n\t})\r\n\t//使用父组件传递过来的值\r\n\tconst {labels} =toRefs(props)\r\n\tconst isFlag=ref(0)\r\n\tconst emit = defineEmits(['handleClick'])\r\n\tconst changClass=(index)=>{\r\n\t\tisFlag.value=index\r\n\t\t emit('handleClick',index)\r\n\t}\n</script>\n\n<style scoped lang=\"scss\">\r\n\t::v-deep .el-scrollbar__wrap{\r\n\t\toverflow: unset !important;\r\n\t}\r\n\t::v-deep .el-scrollbar{\r\n\t\toverflow: unset !important;\r\n\t}\r\n\t.scro_right{\r\n\t\twidth: 80%;\r\n\t\theight: 100%;\r\n\t\tpadding: 0 1rem;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.scro_right ::v-deep .el-scrollbar__wrap{\r\n\t\t\toverflow: auto !important;\r\n\t}\r\n\t.scro_left{\r\n\t\twidth: 20%;\r\n\t\theight:  100%;\r\n\t\tbox-sizing: border-box;\r\n\t\t border-right: 0.0325rem solid #ccc;\r\n\t\t \r\n\t\t.left_list{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 0.6rem;\r\n\t\t\tline-height: 0.6rem;\r\n\t\t\tfont-size: 0.20rem;\r\n\t\t\tcolor: #303133;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t}\r\n\t\t.left_list_click{\r\n\t\t\twidth: 101%;\r\n\t\t\theight: 0.8rem;\r\n\t\t\tline-height: 0.8rem;\r\n\t\t\tfont-size: 0.4rem;\r\n\t\t\tcolor: #000;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tborder-right: 0.0325rem solid #000;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import script from \"./Scrollbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Scrollbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Scrollbar.vue?vue&type=style&index=0&id=4751c416&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作文件\\\\原版\\\\日志系统\\\\日志预处理系统node包完整版\\\\strategy\\\\node_modules\\\\.store\\\\vue-loader@17.0.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4751c416\"]])\n\nexport default __exports__","<template>\n\t<div>\n\t\t<el-dialog :title=\"title\" :model-value=\"dialogVisibleAdd\" :close-on-click-modal=\"false\" width=\"50%\"\n\t\t\t@close='closeDia' style=\"border-radius: 10px;\">\n\t\t\t<el-form label-width='20%' status-icon ref=\"cgThisRegRef\">\r\n\t\t\t\t<!-- <el-form-item prop='log'>\r\n\t\t\t\t\t<span >\r\n\t\t\t\t\t\tSELECT * FROM 表 WHERE </span>\r\n\t\t\t\t\t<el-input class=\"text-center\" v-model='StrNameEdit' type=\"textarea\"></el-input>\r\n\t\t\t\t</el-form-item> -->\n\t\t\t\t<el-form-item prop='log'>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle=\"margin-left: -30px; font-size: 22px;font-weight: 600;position: absolute;left: -80px;top:24px\">\n\t\t\t\t\t\t策略名字</span>\n\t\t\t\t\t<el-input class=\"text-center\" v-model='StrNameEdit' style=\"width:6.48rem;\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-button class=\"btn_add\" @click=\"addeg\" title=\"添加策略\">+\n\t\t\t\t</el-button>\n\t\t\t\t<el-form-item v-for=\"(ite,ind) of inpNum\" :key=\"ind\" style=\" width:90%; margin-left: 0.195rem;\">\n\t\t\t\t\t<el-col :span=\"4\" class=\"text-center\">\n\t\t\t\t\t\t<el-select v-model=\"form[ind].region1\" @change=\"changeWords\">\n\t\t\t\t \t\t<el-option :label=\"item.label\" :value=\"item.label\" v-for=\"(item,index) in options\"\n\t\t\t\t\t\t\t\t:key=\"index\" />\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"4\" class=\"text-center\">\n\t\t\t\t\t\t<el-select v-model=\"form[ind].region2\">\n\t\t\t\t\t\t\t<el-option :label=\"item.label\" :value=\"item.value\" v-for=\"(item,index) in option1\"\n\t\t\t\t\t\t\t\t:key=\"index\" />\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"5\" class=\"text-center\">\n\t\t\t\t\t\t<el-input v-model=\"form[ind].region3\" @change=\"inputChange\"></el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"3\" class=\"text-center\">\n\t\t\t\t\t\t<el-select v-model=\"form[ind].region4\">\n\t\t\t\t\t\t\t<el-option :label=\"item.label\" :value=\"item.value\" v-for=\"(item,index) in option2\"\n\t\t\t\t\t\t\t\t:key=\"index\" />\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-button class=\"text-center\" :disabled=\"ind === 0\" @click=\"removeReg(ind)\" title=\"删除策略\"\n\t\t\t\t\t\tstyle=\"width: 30px; height: 30px; font-size: 0.35rem; line-height: 30px\">-\n\t\t\t\t\t</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t\t<div class=\"test_reg\">\n\t\t\t\t\t<el-button @click=\"toTestReg\">测试结果</el-button>\n\t\t \t\t<div class=\"test_result\">\n\t\t\t\t\t\t<span v-for=\"(itemQ, indexQ) in testRegs\" :key=\"indexQ\">\n\t\t\t\t\t\t\t{{itemQ}}<br />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class='item_button'>\n\t\t\t\t\t<span class=\"dialog-footer\">\n\t\t\t\t\t\t<el-button @click=\"goOut\">取 消</el-button>\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"AddReg\">确 定</el-button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</el-form>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\ttoRefs,\n\t\tdefineProps,\n\t\tdefineEmits,\n\t\tgetCurrentInstance\n\t} from 'vue'\n\tconst {\n\t\tproxy\n\t} = getCurrentInstance();\n\tconst props = defineProps({\n\t\t//子组件接收父组件传递过来的值\n\t\tdialogVisible: Boolean,\n\t\ttitle: String,\n\t\tStrName: String,\n\t\tres: Object\n\t})\n\tconst {\n\t\tdialogVisible,\n\t\ttitle,\n\t\tStrName,\n\t\tres\n\t} = toRefs(props)\n\tconst StrNameEdit = ref(\"\");\n\tStrNameEdit.value = StrName.value\n\tconst dialogVisibleAdd = dialogVisible.value\n\tvar inpNum = ref([\"\"]);\n\tconst form = ref([{\n\t\tregion1: '',\n\t\tregion2: '',\n\t\tregion3: '',\n\t\tregion4: ''\n\t}])\n\t// for(let i=0;i<res.value.length;i++){\n\t// \tconsole.log(inpNum);\n\t// }\n\t\tfor (let i = 0; i < res.value.length; i++) {\n\t\t\tif (i > 0) {\n\t\t\t\tinpNum.value.push('')\n\t\t\t\tform.value.push({\n\t\t\t\t\tregion1: '',\n\t\t\t\t\tregion2: '',\n\t\t\t\t\tregion3: '',\n\t\t\t\t\tregion4: ''\n\t\t\t\t})\n\t\t\t}\n\t\t\tform.value[i].region1 = res.value[i][0]\n\t\t\tform.value[i].region2 = res.value[i][1]\n\t\t\tform.value[i].region3 = res.value[i][2]\n\n\t\t\tif (i + 1 < res.value.length) {\n\t\t\t\tform.value[i].region4 = res.value[i][3]\n\t\t\t}\n\t\t}\n\tconst options = ref([])\n\tconst option1 = ref([])\n\tconst option2 = [{\n\t\t\tvalue: 'and',\n\t\t\tlabel: 'and',\n\t\t},\n\t\t{\n\t\t\tvalue: 'or',\n\t\t\tlabel: 'or',\n\t\t}\n\t]\n\t// +按钮\n\tconst addeg = () => {\n\t\tinpNum.value.push('')\n\t\tform.value.push({\n\t\t\tregion1: '',\n\t\t\tregion2: '',\n\t\t\tregion3: '',\n\t\t\tregion4: ''\n\t\t})\n\t}\n\t// -按钮\n\tconst removeReg = (index) => {\n\t\tinpNum.value.splice(index, 1);\n\t\tform.value.splice(index, 1);\n\t}\n\tconst emit = defineEmits(['changdialogVisible', 'AddReg'])\n\t// 取消按钮\n\tconst goOut = () => {\n\t\temit('changdialogVisible')\n\t}\n\t// 关闭对话框\n\tconst closeDia = () => {\n\t\temit('changdialogVisible')\n\t}\n\t// 确定按钮\n\tconst AddReg = () => {\n\t\tif (StrNameEdit.value == undefined || StrNameEdit.value == \"\" || StrNameEdit.value == null || StrNameEdit.value\n\t\t\t.indexOf(\" \") >= 0) {\n\t\t\tproxy.$message(\"策略名不可为空\");\n\t\t} else {\n\t\t\temit('AddReg', StrNameEdit, getSqls())\n\t\t}\n\n\t}\n\tconst testRegs = ref([])\n\tconst sqls = ref(\"\")\n\tconst getSqls=()=>{\n\t\tchangeWords()\n\t\tsqls.value=''\n\t\tfor (let i = 0; i < form.value.length; i++) {\n\t\t\tif (form.value[i].region2.indexOf(\"%\")>0) {\n\t\t\t\tif (form.value[i].region2 != \"=\") {\n\t\t\t\t\tform.value[i].region2 = form.value[i].region2.replace(\"*\",form.value[i].region3)\n\t\t\t\t\tsqls.value += `${form.value[i].region1} ${form.value[i].region2}`\n\t\t\t\t\tif(i+1!=form.value.length){\n\t\t\t\t\t\tsqls.value+=` ${form.value[i].region4} `\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tsqls.value += `${form.value[i].region1} ${form.value[i].region2} ${form.value[i].region3}`\n\t\t\t\tif(i+1!=form.value.length){\n\t\t\t\t\tsqls.value+=` ${form.value[i].region4} `\n\t\t\t\t}}\n\t\t\t} else {\n\t\t\t\tsqls.value += `${form.value[i].region1} ${form.value[i].region2} ${form.value[i].region3}`\n\t\t\t\tif(i+1!=form.value.length){\n\t\t\t\t\tsqls.value+=` ${form.value[i].region4} `\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn sqls.value\n\t}\n\t// 测试按钮\n\tconst toTestReg = async() => {\n\t\tchangeWords()\n\t\ttestRegs.value = []\n\t\tlet flag = false;\n\t\tfor (let i = 0; i < inpNum.value.length; i++) {\n\t\t\t// console.log(inpNum);\n\t\t\tfor (let j = 0; j < form.value.length; j++) {\n\t\t\t\tif(i+1==form.value.length){\n\t\t\t\t\tif(form.value[j].region1==\"\"||form.value[j].region2==\"\"||form.value[j].region3==\"\"){\n\t\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t\t\tproxy.$message(\"字段不可为空\");\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttestRegs.value = []\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(form.value[j].region1==\"\"||form.value[j].region2==\"\"||form.value[j].region3==\"\"||form.value[j].region4==\"\"){\n\t\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t\t\tproxy.$message(\"字段不可为空\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flag){\n\t\t\t\t\ttestRegs.value=[]\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tif(title.value!=\"添加策略\"){\n\t\t\taliveSelect()\n\t\t}\n\t\tconst {data: res} = await proxy.$http.Odata.testStrategy({sql: getSqls()})\n\t\tif (res.code !== 200) return proxy.$message.error('获取数据失败')\n\t\tif(res.data.yysMsg!=null){\n\t\t\ttestRegs.value.push(res.data.yysMsg)\n\t\t}\n\t\ttestRegs.value.push('未查询到数据')\n\t}\n\tconst getSelect=async()=>{\n\t\tconst {data: res2} = await proxy.$http.Odata.getlogtable({item: StrNameEdit.value})\n\t\tif (res2.code !== 200) return proxy.$message.error('获取数据失败')\n\t\ttestRegs.value.push(res2.data[0].yysMsg)\n\t}\n\tconst aliveSelect=async()=>{\n\t\tconst queryInfo = {\n\t\t  currentPage: 1,\n\t\t  pageSize: 1,\n\t\t  name: StrNameEdit.value,\n\t\t  sql:getSqls()\n\t\t}\n\t\tconst {data: res1} = await proxy.$http.Odata.selectLog(queryInfo)\n\t\tif (res1.code !== 200) return proxy.$message.error('缓存数据失败')\n\t\tgetSelect()\n\t}\n\t// 获取数据库字段名\n\tconst getWords = async () => {\n\t\tconst {\n\t\t\tdata: res\n\t\t} = await proxy.$http.Odata.getOlist()\n\t\tif (res.code !== 200) return proxy.$message.error('获取数据库字段失败')\n\t\tconsole.log(res.data);\n\t\tfor (let i = 0; i < res.data.length; i++) {\n\t\t\tconst words = {\n\t\t\t\ttype: res.data[i].type,\n\t\t\t\tvalue: res.data[i].field,\n\t\t\t\tlabel: res.data[i].field\n\t\t\t}\n\t\t\toptions.value.push(words)\n\t\t}\n\t}\n\tconst lakey = ref(\"\")\n\t// 选择器1变化后触发\n\tconst changeWords = (e) => {\n\t\tconst type = ref(\"\")\r\n\t\tfor (let i = 0; i < options.value.length; i++) {\n\t\t\tif (options.value[i].label == e) {\n\t\t\t\ttype.value = options.value[i].type\n\t\t\t}\n\t\t}\r\n\t\tif (!type.value.indexOf(\"INT\")) {\n\t\t\tlakey.value = \"INT\"\n\t\t\toption1.value = [{\n\t\t\t\t\tvalue: '>',\n\t\t\t\t\tlabel: '>',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '<',\n\t\t\t\t\tlabel: '<',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t  value: '=',\n\t\t\t\t\tlabel: '=',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t \tvalue: '<=',\n\t\t\t\t\tlabel: '<=',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '>=',\n\t\t\t\t\tlabel: '>=',\n\t\t\t }\n\t\t\t]\n\t\t} else if (!type.value.indexOf(\"VARCHAR\")) {\n\t\t\tlakey.value = \"VARCHAR\"\n\t\t\toption1.value = [{\n\t\t\t\t\tvalue: '=',\n\t\t\t\t\tlabel: '=',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: `like '%*%'`,\n\t\t\t\t\tlabel: `like '%*%'`,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: `like '*%'`,\n\t\t\t \tlabel: `like '*%'`,\n\t\t\t\t}\n\t\t\t]\n\t\t} else {\n\t\t\tlakey.value = \"DATE\"\n\t\t\toption1.value = [{\n\t\t\t\t\tvalue: '>',\n\t\t\t\t\tlabel: '>',\n\t\t\t\t},\n\t\t\t {\n\t\t\t\t\tvalue: '<',\n\t\t\t\t\tlabel: '<',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '=',\n\t\t\t\t\tlabel: '=',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '<=',\n\t\t\t\t\tlabel: '<=',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '>=',\n\t\t\t\t\tlabel: '>=',\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n\tconst val = ref([])\n\tconst inputChange = (value) => {\n\t\tval.value.push(value)\n\t}\n\n\tgetWords()\n</script>\n\n<style scoped lang=\"scss\">\n\t.item_button {\n\t\tmargin-top: 0.9rem;\n\n\t\t.dialog-footer {\n\t\t\tdisplay: flex;\n\t\t\twidth: 100%;\n\t\t\tjustify-content: center;\n\n\t\t\t.el-button {\n\t\t\t\tbackground-color: rgb(18, 16, 29);\n\t\t\t\tcolor: white;\n\t\t\t\tfont-size: 0.15rem;\n\t\t\t\theight: 35px;\n\t\t\t\twidth: 1rem;\n\t\t\t\tborder: none;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tborder-radius: 0.055rem;\n\t\t\t\tmargin: 0 0.5rem;\n\t\t\t}\n\n\t\t\t.el-button:hover {\n\t\t\t\tbackground-color: white;\n\t\t\t\tcolor: rgb(18, 16, 29);\n\t\t\t\tborder: 1px solid black;\n\t\t\t}\n\t\t}\n\t}\n\n\t.dialogspan {\n\t\tfont-size: 0.20rem;\n\t\tcolor: black;\n\t\tfont-weight: 500;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\n\t\t.dialogDiv {\n\t\t\twidth: 18%;\n\t\t}\n\n\t\t.el-input {\n\t\t\twidth: 60%;\n\t\t}\n\t}\n\n\t.btn_add {\n\t\tmargin-bottom: 10px;\n\t\tright: 0;\n\t\tfont-size: 0.35rem;\n\t\tcolor: #666;\n\t\twidth: 30px;\n\t\theight: 30px;\n\t\tposition: absolute;\n\t\ttop: 290px;\n\t\tright: 20px;\n\t\tz-index: 99;\n\t}\n\n\t.text-center {\n\t\tmargin-right: 0.28rem;\n\t\tmargin-top: 0.25rem;\n\t\tborder-radius: 0.055rem;\n\t\tcolor: #666;\n\t}\n\n\t.test_reg {\n\t\tdisplay: flex;\n\t\twidth: 70%;\n\t\tmargin-top: 0.8rem;\n\t\tmargin-left: 0.9rem;\n\n\t\t.el-button {\n\t\t\tbackground-color: rgb(18, 16, 29);\n\t\t\tcolor: white;\n\t\t\tfont-size: 0.15rem;\n\t\t\theight: 35px;\n\t\t\twidth: 1rem;\n\t\t\tborder: none;\n\t\t\tbox-sizing: border-box;\n\t\t\tborder-radius: 0.055rem;\n\t\t\tmargin: 0 0.2rem;\n\t\t}\n\n\t\t.el-button:hover {\n\t\t\tbackground-color: white;\n\t\t\tcolor: rgb(18, 16, 29);\n\t\t\tborder: 1px solid black;\n\t\t}\n\n\n\t\t.test_result {\n\t\t\tbox-sizing: border-box;\n\t\t\tborder-radius: 5px;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tpadding: 20px;\n\t\t\twidth: 120%;\n\t\t}\n\t}\n</style>\n","import script from \"./StrDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StrDialog.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StrDialog.vue?vue&type=style&index=0&id=8cf4f2d8&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作文件\\\\原版\\\\日志系统\\\\日志预处理系统node包完整版\\\\strategy\\\\node_modules\\\\.store\\\\vue-loader@17.0.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8cf4f2d8\"]])\n\nexport default __exports__","<template>\n\t<div>\n\t\t<div class=\"top\" >\n\t\t\t  <el-button @click=\"addSource\">添加</el-button>\n\t\t</div>\n\t\t<dataSource :labels=\"labels\" @handleClick='handleClick'>\n\t\t\t\t<template #>\n\t\t\t\t\t<tableInfo :keyss=\"keyss\" @CurrentChange=\"CurrentChange\" @updateKeywords=\"updateKeywords\"\n\t\t\t\t\t @deleteKeywords=\"deleteKeywords\" :tableList=\"tableList\" \n\t\t\t\t\t :keywordsList=\"keywordsList\" :queryInfo=\"queryInfo\" \n\t\t\t\t\t :total=\"total\"  :label=\"label\" @gowords=\"gowords\"/>\n\t\t\t\t</template>\n\t\t</dataSource>\n\t\t<StrDialog v-if=\"dialogVisibleAdd\" :res=\"res\" title=\"添加策略\" @AddReg=\"AddReg\" :dialogVisible=\"dialogVisibleAdd\"  @changdialogVisible=\"changdialogVisible\"/>\n\t\t<StrDialog v-if=\"dialogVisibleEdit\" :res=\"res\"  @AddReg=\"EditReg\" :StrName=\"StrName\" title=\"修改策略\" :dialogVisible=\"dialogVisibleEdit\"  @changdialogVisible=\"changdialogVisible\"/>\n\t\t<el-dialog\n\t\t  title=\"删除策略\"\n\t\t  :model-value=\"dialogVisibleDelete\"\n\t\t  :close-on-click-modal=\"false\"\n\t\t  width=\"30%\"\n\t\t  @close=\"changdialogVisible\"\n\t\t  style=\"border-radius: 10px;\"\n\t\t>\n\t\t <img :src=\"warning\" alt=\"\" class=\"dialogimg\">\n\t\t<span class=\"dialogspan\" >\n\t\t\t \n\t\t\t此操作将永久删除该信息，是否继续？</span>\n\t\t\t\n\t\t<div class=\"item_button\">\n\t\t  <span class=\"dialog-footer\">\n\t\t    <el-button @click=\"cancelDelete\">取 消</el-button>\n\t\t    <el-button type=\"primary\" @click=\"DeleteOdata\">确 定</el-button>\n\t\t  </span>\n\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script setup>\n\timport {WarningFilled} from '@element-plus/icons-vue'\n\timport dataSource from '@/components/Scrollbar.vue'\n\timport tableInfo from '@/components/table.vue'\n\timport StrDialog from '@/components/StrDialog.vue'\n\timport warning from '@/assets/imgs/warning.png'\n\timport {useRouter} from \"vue-router\";\n\timport {ref,getCurrentInstance,reactive,onMounted} from 'vue'\n\tconst router = useRouter()\n\tconst {proxy} = getCurrentInstance()\n\tconst labels=reactive([])\n\tconst queryInfoIp = reactive({\n\t})\n\tconst queryInfo = reactive({\n\t  currentPage: 1,\n\t  pageSize: 5,\n\t})\n\tconst total = ref(0)\n\tonMounted(() => {\n\t  getAllOdataName();\n\t});\n\tconst getAllOdataName = async () => {\n\t  const {data: res} = await proxy.$http.Odata.getLabels()\n\t  if (res.code !== 200) return proxy.$message.error('获取数据源列表失败')\n\t  labels.length = 0\n\t  for (let i = 0; i < res.data.length; i++) {\n\t    labels.push(res.data[i])\n\t  }\n\t  queryInfoIp.facility = labels[0].yyfFacility\n\t  queryInfoIp.host = labels[0].yyfHost\n\t  getKeywordsList()\n\t}\n\t// 获取策略列表\n\tconst getKeywordsList = async () => {\n\t  // console.log({...queryInfoIp, ...queryInfo})\n\t  const {data: res} = await proxy.$http.Odata.getLog({...queryInfoIp, ...queryInfo})\n\t  if (res.code !== 200) return proxy.$message.error('获取策略列表失败')\n\t  keywordsList.length = 0\n\t  // console.log(res.data);\n\t  for(let i=0;i<res.data.records.length;i++){\n\t\t  keywordsList.push(res.data.records[i])\n\t  }\n\t  total.value = res.data.total\n\t}\n\t// tabs切换\n\tconst handleClick = tab => {\n\t  queryInfoIp.facility = labels[tab].yyfFacility\r\n\t  queryInfoIp.host = labels[tab].yyfHost\n\t  getKeywordsList()\n\t}\n\tconst CurrentChange=(val)=>{\n\t\tqueryInfo.currentPage= val\n\t\tgetKeywordsList()\n\t}\n\tconst keyss=ref([\n\t\t\"remark\",\"strategy\"\n\t])\n\tconst tableList=ref([\n\t\t{title:\"策略名\"},\n\t\t{title:\"策略详情\"},\n\t])\n\tconst keywordsList=reactive([])\n\tconst label = ref(\"操作\")\n\tconst dialogVisibleAdd = ref(false);\n\t\n\t// 添加按钮打开对话框\n\tconst addSource=()=>{\n\t\tres.value=[]\n\t\tdialogVisibleAdd.value=true\n\t}\n\t// 确定添加按钮\n\tconst AddReg= async (name,sqlStr)=>{\n\t\t// const sqls=ref(\"\")\n\t\tconst queryAdd={\n\t\t\tremark:name.value,\n\t\t\tstrategy:sqlStr\n\t\t}\n\t\tconst {data: res} = await proxy.$http.Odata.addLog({...queryInfoIp, ...queryAdd})\n\t\tif (res.code !== 200) return proxy.$message.error('添加失败')\n\t\tdialogVisibleAdd.value=false\n\t\tgetKeywordsList()\n\t}\n\t\n\t// 删除，修改，添加功能取消功能关闭对话框\n\tconst changdialogVisible=()=>{\n\t\tdialogVisibleAdd.value=false\n\t\tdialogVisibleDelete.value=false\n\t\tdialogVisibleEdit.value=false\n\t}\n\tconst dialogVisibleEdit = ref(false);\n\tconst dialogVisibleDelete = ref(false);\n\tconst deleteId=ref(0)\n\tconst editId=ref(\"\")\n\t// 删除按钮打开对话框\n\tconst deleteKeywords=(index)=>{\n\t\tdeleteId.value=index\n\t\tdialogVisibleDelete.value=true\n\t}\n\tconst StrName = ref(\"\")\n\tconst updateId = ref(0)\n\tconst res = ref([])\n\t// 打开修改按钮\n\tconst updateKeywords=(items)=>{\n\t\t// console.log(form);\n\t\tres.value=[]\n\t\tupdateId.value=items.id\n\t\tStrName.value=items.remark\n\t\tconst arr = items.strategy.split(\" \")\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tif(arr[i].indexOf('%')>0){\n\t\t\t\tlet str=arr[i].replace('%','')\n\t\t\t\t str=str.replace('%','')\n\t\t\t\t str=str.replace(`'`,'')\n\t\t\t\t str=str.replace(`'`,'')\n\t\t\t\t arr[i-1]=arr[i-1]+\" \"+arr[i].replace(str,'*')\n\t\t\t\t arr[i]=str\n\t\t\t}\n\t\t}\n\t\tconst len = arr.length  //len为数组的长度\n\t\tconst n = 4 // 假设每行显示4个\n\t\tconst Num = len % 4 === 0 ? len / 4 : Math.floor((len / 4) + 1)  //得出多少份\n\t\t //定义数组接受最终的数据\n\t\tfor (let i = 0; i < Num; i++) {\n\t\t  // slice() 方法返回一个从开始到结束（不包括结束）的数组。且原始数组不会被修改。\n\t\t  const newArr = arr.slice(i * n, i * n + n) //得到每份的数据\n\t\t  res.value.push(newArr) //往res数组里加数据\n\t\t}\n\t\tdialogVisibleEdit.value=true\n\t}\n\t// 修改确定按钮\n\tconst EditReg=async(name,sqlStr)=>{\n\t\tconsole.log(sqlStr);\n\t\tconst queryAdd={\n\t\t\tid:updateId.value,\n\t\t\tremark:name.value,\n\t\t\tstrategy:sqlStr\n\t\t}\n\t\tconst {data: res} = await proxy.$http.Odata.getLogChange(queryAdd)\n\t\tif (res.code !== 200) return proxy.$message.error('修改失败')\n\t\tdialogVisibleEdit.value=false\n\t\tgetKeywordsList()\n\t\tres.value=[]\n\t}\n\t// 确认删除\n\tconst DeleteOdata= async () =>{\n\t\t    const {data: res} = await proxy.$http.Odata.deleteLog({item: deleteId.value})\n\t\t    if (res.code !== 200) return proxy.$message.error('删除失败')\n\t\t\tdialogVisibleDelete.value=false\n\t\t    getKeywordsList()\n\t\t    return proxy.$message.success('删除成功')\n\t}\n\t//取消删除\n\tconst cancelDelete=()=>{\n\t\tdialogVisibleDelete.value=false\n\t\tproxy.$message({\n\t\t  type: 'info',\n\t\t  message: '取消删除',\n\t\t})\n\t}\n\t// 运行图标gowords\n\tconst gowords= async (item) =>{\n\t\tconst cc=item.strategy\n\t\t    const {data: res} = await proxy.$http.Odata.selectTotal({sql: cc})\r\n\t\t\tconsole.log(res);\n\t\t    if (res.code !== 200) return proxy.$message.error('运行策略失败')\n\t\t\tconst name=item.remark\n\t\t\tconst sqls=item.strategy\n\t\t\tconst toal=res.data\n\t\tconst go = router.resolve({\n\t\t  path: '/selectTotal',\n\t\t  query: {name,sqls,toal}\n\t\t})\n\t\twindow.open(go.href, '_blank')\n\t\t\t// dialogVisibleDelete.value=false\n\t\t //    getKeywordsList()\n\t\t //    return proxy.$message.success('删除分类词汇成功')\n\t}\n</script>\n<style  scoped lang=\"scss\">\n\t  .top {\n\t    position: relative;\n\t    width: 100%;\n\t    height: 50px;\n\t    box-sizing: border-box;\n\t    margin: 20px 0;\n\t  \n\t    .el-button {\n\t      position: absolute;\n\t      right: 0.4rem;\n\t      background-color: rgb(18, 16, 29);\n\t      color: white;\n\t      font-size: 0.15rem;\n\t      height: 35px;\n\t      border: none;\n\t  \tborder-radius: 20%;\n\t    }\n\t  \n\t    .el-button:hover {\n\t      background-color: white;\n\t      color: rgb(18, 16, 29);\n\t      border: 1px solid black;\n\t    }\n\t  }\n\t  .item_button {\n\t    margin-top: 0.9rem;\n\t  \n\t    .dialog-footer {\n\t      display: flex;\n\t      width: 100%;\n\t      justify-content: center;\n\t  \n\t      .el-button {\n\t        background-color: rgb(18, 16, 29);\n\t        color: white;\n\t        font-size: 0.15rem;\n\t        height: 35px;\n\t        width: 1rem;\n\t        border: none;\n\t        box-sizing: border-box;\n\t  \t\t\tborder-radius: 0.055rem;\n\t        margin: 0 0.5rem;\n\t      }\n\t  \n\t      .el-button:hover {\n\t        background-color: white;\n\t        color: rgb(18, 16, 29);\n\t        border: 1px solid black;\n\t      }\n\t    }\n\t  }\n\t  .dialogspan{\n\t  \t\t  font-size: 0.20rem;\n\t  \t\t  color: black;\n\t\t\t  position: relative;\n\t  \t\t  font-weight: 500;\n\t  }\n\t  .dialogimg{\n\t\t  width: 0.20rem;\n\t  }\n</style>","import script from \"./odata.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./odata.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./odata.vue?vue&type=style&index=0&id=b940b748&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\工作文件\\\\原版\\\\日志系统\\\\日志预处理系统node包完整版\\\\strategy\\\\node_modules\\\\.store\\\\vue-loader@17.0.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b940b748\"]])\n\nexport default __exports__"],"names":["keywordsList","tableList","total","queryInfo","label","keyss","toRefs","props","headerStyle","cellStyle","deleteKeywords","index","emit","gowords","updateKeywords","item","handleCurrentChange","val","download","yysFacility","__exports__","labels","isFlag","ref","changClass","value","proxy","getCurrentInstance","dialogVisible","title","StrName","res","StrNameEdit","dialogVisibleAdd","inpNum","form","region1","region2","region3","region4","i","length","push","options","option1","option2","addeg","removeReg","splice","goOut","closeDia","AddReg","undefined","indexOf","$message","getSqls","testRegs","sqls","changeWords","replace","toTestReg","async","flag","j","aliveSelect","data","$http","Odata","testStrategy","sql","code","error","yysMsg","getSelect","res2","getlogtable","currentPage","pageSize","name","res1","selectLog","getWords","getOlist","console","log","words","type","field","lakey","e","inputChange","router","useRouter","reactive","queryInfoIp","onMounted","getAllOdataName","getLabels","facility","yyfFacility","host","yyfHost","getKeywordsList","getLog","records","handleClick","tab","CurrentChange","addSource","sqlStr","queryAdd","remark","strategy","addLog","changdialogVisible","dialogVisibleDelete","dialogVisibleEdit","deleteId","updateId","items","id","arr","split","str","len","n","Num","Math","floor","newArr","slice","EditReg","getLogChange","DeleteOdata","deleteLog","success","cancelDelete","message","cc","selectTotal","toal","go","resolve","path","query","window","open","href"],"sourceRoot":""}