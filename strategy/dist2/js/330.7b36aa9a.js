"use strict";(self["webpackChunkyy_shop"]=self["webpackChunkyy_shop"]||[]).push([[330],{40260:function(e,t,l){l.d(t,{Z:function(){return c}});var a=l(57275),r=l(74223),n=l(13255);const o={class:"right_words"};var s={__name:"table",props:{keywordsList:Array,tableList:Array,total:Number,queryInfo:Object,label:String,keyss:Array},emits:["deleteKeywords","updateKeywords","CurrentChange","download","gowords"],setup(e,{emit:t}){const l=e,{keywordsList:s,tableList:u,total:i,queryInfo:c,label:d,keyss:f}=(0,r.toRefs)(l),g=()=>({"font-size":"0.18rem",color:"black","text-align":"center","font-weight":"bolder",border:"1px soild black"}),p=()=>({"text-align":"center",color:"black","font-size":"0.15rem",height:"0.6rem"}),y=e=>{t("deleteKeywords",e)},b=e=>{t("gowords",e)},w=e=>{t("updateKeywords",e)},k=e=>{t("CurrentChange",e)},v=e=>{t("download",e.yysFacility)};return(e,t)=>{const l=(0,a.up)("el-table-column"),m=(0,a.up)("el-button"),h=(0,a.up)("el-table"),C=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",o,[(0,a.Wm)(h,{data:(0,r.unref)(s),"header-cell-style":g,"max-height":"5rem","cell-style":p},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,r.unref)(u),((e,t)=>((0,a.wg)(),(0,a.j4)(l,{key:t,prop:(0,r.unref)(f)[t],label:e.title},null,8,["prop","label"])))),128)),"操作"==(0,r.unref)(d)?((0,a.wg)(),(0,a.j4)(l,{key:0,label:(0,r.unref)(d)},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{class:"butn",icon:(0,r.unref)(n.I8b),size:"large",onClick:t=>w(e.row),title:"编辑策略"},null,8,["icon","onClick"]),(0,a.Wm)(m,{class:"butn",icon:(0,r.unref)(n.HG3),size:"large",onClick:t=>y(e.row.id),title:"删除策略"},null,8,["icon","onClick"]),(0,a.Wm)(m,{class:"butn",icon:(0,r.unref)(n.GhU),size:"large",onClick:t=>b(e.row),title:"运行策略"},null,8,["icon","onClick"])])),_:1},8,["label"])):(0,a.kq)("",!0),"下载"==(0,r.unref)(d)?((0,a.wg)(),(0,a.j4)(l,{key:1,label:(0,r.unref)(d)},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{class:"butn",icon:(0,r.unref)(n.UWx),size:"large",onClick:t=>v(e.row),title:"下载日志"},null,8,["icon","onClick"])])),_:1},8,["label"])):(0,a.kq)("",!0)])),_:1},8,["data"]),(0,a.Wm)(C,{onCurrentChange:k,background:"",layout:"prev, pager, next",total:(0,r.unref)(i),"current-page":(0,r.unref)(c).currentPage,"page-size":(0,r.unref)(c).pageSize,class:"pagination-container"},null,8,["total","current-page","page-size"])])])}}},u=l(51934);const i=(0,u.Z)(s,[["__scopeId","data-v-b6296dfe"]]);var c=i},86330:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});l(96633);var a=l(57275),r=l(40260),n=l(16425),o=l(74223);const s=e=>((0,a.dD)("data-v-2bd2f494"),e=e(),(0,a.Cn)(),e),u=s((()=>(0,a._)("div",{class:"title"},"策略运行结果",-1)));var i={__name:"selectTotal",setup(e){const t=(0,n.yj)(),{proxy:l}=(0,a.FN)(),s=(0,o.ref)({currentPage:1,pageSize:null}),i=(0,o.ref)({name:t.query.name,sql:t.query.sqls}),c=(0,o.ref)(0);c.value=parseInt(t.query.toal),(0,a.bv)((()=>{b()}));const d=e=>{s.value.currentPage=e,b()},f=(0,o.ref)([]),g=(0,o.ref)([{title:"ip地址"},{title:"日志等级"},{title:"设备名称"},{title:"日志信息"},{title:"生成时间"},{title:"记录时间"}]),p=(0,o.reactive)([]),y=async()=>{const{data:e}=await l.$http.Odata.getlogtable({item:i.value.name});if(200!==e.code)return l.$message.error("获取数据失败");p.length=0;for(let t=0;t<e.data.length;t++)p.push(e.data[t]);f.value=[];for(let t in p[0])f.value.push(t);f.value=f.value.slice(1)},b=async()=>{const{data:e}=await l.$http.Odata.selectLog({...i.value,...s.value});if(200!==e.code)return l.$message.error("缓存数据失败");y()};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",null,[u,(0,a.Wm)(r.Z,{keyss:f.value,tableList:g.value,onCurrentChange:d,keywordsList:p,queryInfo:s.value,total:c.value},null,8,["keyss","tableList","keywordsList","queryInfo","total"])]))}},c=l(51934);const d=(0,c.Z)(i,[["__scopeId","data-v-2bd2f494"]]);var f=d}}]);
//# sourceMappingURL=330.7b36aa9a.js.map